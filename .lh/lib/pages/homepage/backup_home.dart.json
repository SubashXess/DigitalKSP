{
    "sourceFile": "lib/pages/homepage/backup_home.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1737530589607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1737530589607,
            "name": "Commit-0",
            "content": "import 'package:digitalksp/models/drawer_model.dart';\r\nimport 'package:digitalksp/pages/homepage/components/carousel_blog.dart';\r\nimport 'package:digitalksp/pages/homepage/components/category_item.dart';\r\nimport 'package:digitalksp/pages/homepage/components/drawer.dart';\r\nimport 'package:digitalksp/pages/homepage/components/featured_blog.dart';\r\nimport 'package:digitalksp/pages/homepage/components/job_item.dart';\r\nimport 'package:digitalksp/pages/homepage/components/latest_blog.dart';\r\nimport 'package:digitalksp/pages/homepage/components/popular_blog.dart';\r\nimport 'package:digitalksp/pages/search_page/search_page.dart';\r\nimport 'package:digitalksp/providers/blog_providers.dart';\r\nimport 'package:digitalksp/providers/categories_provider.dart';\r\nimport 'package:digitalksp/providers/jobs_providers.dart';\r\nimport 'package:digitalksp/providers/wishwall_providers.dart';\r\nimport 'package:flutter/material.dart';\r\nimport 'package:provider/provider.dart';\r\nimport '../../widgets/buttons_widget.dart';\r\nimport 'components/blog_list.dart';\r\nimport 'components/ind_profile_item.dart';\r\nimport 'components/org_profile_item.dart';\r\n\r\nclass HomePage extends StatefulWidget {\r\n  const HomePage({super.key});\r\n\r\n  @override\r\n  State<HomePage> createState() => _HomePageState();\r\n}\r\n\r\nclass _HomePageState extends State<HomePage> {\r\n  final GlobalKey<ScaffoldState> _scaffoldKey = GlobalKey<ScaffoldState>();\r\n  bool _hasLoading = true;\r\n\r\n  late final List<DrawerModel> _drawerItem;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    _drawerItem = DrawerModel.generatedItem;\r\n    _loadAllData();\r\n  }\r\n\r\n  Future<void> _loadAllData() async {\r\n    setState(() {\r\n      _hasLoading = true;\r\n    });\r\n    await Future.wait([\r\n      context.read<BlogProviders>().getBlogs(type: 'Front Banner', limit: 12),\r\n      context.read<BlogProviders>().getBlogs(type: 'Latest', limit: 12),\r\n      context.read<BlogProviders>().getBlogs(type: 'Featured', limit: 12),\r\n      context.read<BlogProviders>().getBlogs(type: 'Most Popular', limit: 12),\r\n      context.read<BlogProviders>().getBlogs(type: 'Normal', limit: 12),\r\n      context.read<BlogProviders>().getBlogs(type: 'Recent', limit: 4),\r\n      context.read<WishWallProviders>().getIndProfiles(),\r\n      context.read<WishWallProviders>().getOrgProfiles(),\r\n      context.read<CategoriesProvider>().getCategory(),\r\n      context.read<JobsProviders>().getJobs(),\r\n    ]);\r\n\r\n    setState(() {\r\n      _hasLoading = false;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    final Size size = MediaQuery.of(context).size;\r\n\r\n    return Scaffold(\r\n      key: _scaffoldKey,\r\n      drawer: DrawerWidget(size: size, items: _drawerItem),\r\n      appBar: _hasLoading\r\n          ? null\r\n          : AppBar(\r\n              backgroundColor: Colors.grey.shade50,\r\n              toolbarHeight: 68.0,\r\n              titleSpacing: 0.0,\r\n              elevation: 0.0,\r\n              automaticallyImplyLeading: false,\r\n              scrolledUnderElevation: 0.0,\r\n              title: Container(\r\n                width: size.width,\r\n                padding: const EdgeInsets.symmetric(horizontal: 16.0),\r\n                child: Row(\r\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n                  children: [\r\n                    Builder(builder: (context) {\r\n                      return ActionButton(\r\n                        icon: 'assets/icons/hamburger-menu.svg',\r\n                        backgroundColor: Theme.of(context).primaryColorDark,\r\n                        foregroundColor: Colors.white,\r\n                        onTap: () => _scaffoldKey.currentState?.openDrawer(),\r\n                      );\r\n                    }),\r\n                    Row(\r\n                      children: [\r\n                        // ActionButton(\r\n                        //   icon: 'assets/icons/notification-bell.svg',\r\n                        //   border: true,\r\n                        //   count: '2',\r\n                        //   onTap: () => Navigator.push(\r\n                        //       context,\r\n                        //       MaterialPageRoute(\r\n                        //           builder: (_) => const NotificationPage())),\r\n                        // ),\r\n                        // const SizedBox(width: 8.0),\r\n                        ActionButton(\r\n                          icon: 'assets/icons/search.svg',\r\n                          border: true,\r\n                          onTap: () => Navigator.push(\r\n                              context,\r\n                              MaterialPageRoute(\r\n                                  builder: (_) => const SearchPage())),\r\n                        ),\r\n                      ],\r\n                    ),\r\n                  ],\r\n                ),\r\n              ),\r\n            ),\r\n      body: _hasLoading\r\n          ? const Center(child: CircularProgressIndicator.adaptive())\r\n          : SafeArea(\r\n              child: SingleChildScrollView(\r\n                child: Column(\r\n                  crossAxisAlignment: CrossAxisAlignment.start,\r\n                  children: [\r\n                    const SizedBox(height: 10.0),\r\n                    Consumer<CategoriesProvider>(\r\n                        builder: (context, provider, __) {\r\n                      return provider.categories.isEmpty\r\n                          ? const SizedBox()\r\n                          : CategoryItemList(items: provider.categories);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<BlogProviders>(builder: (_, provider, __) {\r\n                      return provider.recentBlogModel.isEmpty\r\n                          ? const SizedBox()\r\n                          : CarouselBlog(items: [\r\n                              ...provider.recentBlogModel,\r\n                              ...provider.frontBannerBlogModel\r\n                            ]);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<BlogProviders>(builder: (_, provider, __) {\r\n                      return LatestBlogList(items: provider.latestBlogModel);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<BlogProviders>(builder: (_, provider, __) {\r\n                      return FeaturedBlog(\r\n                          size: size, items: provider.featuredBlogModel);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<JobsProviders>(builder: (context, provider, __) {\r\n                      return JobSection(items: provider.jobModel);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<BlogProviders>(builder: (_, provider, __) {\r\n                      return PopularBlogList(items: provider.popularBlogModel);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<WishWallProviders>(builder: (_, provider, __) {\r\n                      return IndProfileList(items: provider.indProfiles);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<WishWallProviders>(builder: (_, provider, __) {\r\n                      return OrgProfileList(items: provider.orgProfiles);\r\n                    }),\r\n                    const SizedBox(height: 20.0),\r\n                    Consumer<BlogProviders>(builder: (_, provider, __) {\r\n                      return BlogList(items: provider.normalBlogModel);\r\n                    }),\r\n                    const SizedBox(height: 16.0),\r\n                  ],\r\n                ),\r\n              ),\r\n            ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}